<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>DealChecklistValidation</fullName>
    <active>true</active>
    <description>Do now allow users to mark stage as closed won when deal chacklist status not completed - BIZ-45142</description>
    <errorConditionFormula>AND(  ISCHANGED( StageName ),
  ISPICKVAL(StageName , &apos;Closed Won&apos;),
  NOT( ISNULL( SBQQ__PrimaryQuote__c )),
 SBQQ__PrimaryQuote__r.Deal_Checklist_Status__c &lt;&gt; &apos;Completed&apos;  

 )</errorConditionFormula>
    <errorMessage>Please update the quote stage to &quot;Contract Executed&quot; and complete the Deal Validation Checklist before closing the Opportunity.</errorMessage>
</ValidationRule>
