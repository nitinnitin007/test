<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Order_Creation_Validation</fullName>
    <active>true</active>
    <description>BIZ-48732</description>
    <errorConditionFormula>AND( ISCHANGED(SBQQ__Ordered__c), 
				SBQQ__Ordered__c = TRUE,
				NOT(ISPICKVAL(SBQQ__Type__c, &quot;Migration Quote&quot;)),
				OR( NOT(ISPICKVAL(Quote_Stage__c, &quot;Contract Executed&quot;)), 
							NOT(ISPICKVAL(SBQQ__Opportunity2__r.StageName , &quot;Closed Won&quot;)),
							Deal_Checklist_Status__c = &quot;Not Started&quot;), 
				   NOT(ISPICKVAL(Renewal_Quote_Type__c,&quot;Auto-Renewal&quot;)) 
			)</errorConditionFormula>
    <errorMessage>Quote can only be ordered only on the following conditions:
1. Opportunity Stage: Closed Won
2. Quote Stage: Contract Executed
3. Quote Deal Checklist: Completed</errorMessage>
</ValidationRule>
