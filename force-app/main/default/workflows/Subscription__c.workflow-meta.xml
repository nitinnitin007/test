<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Notification_CSM_Health_Regressed</fullName>
        <description>Notification - CSM Health Regressed</description>
        <protected>false</protected>
        <recipients>
            <recipient>VP_Customer_Relationship_Management</recipient>
            <type>role</type>
        </recipients>
        <recipients>
            <recipient>carolina.roller@intapp.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <field>CRD__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>LastModifiedById</field>
            <type>userLookup</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Customer_Care/CSM_Health_Regressed</template>
    </alerts>
    <alerts>
        <fullName>Notification_Health_Improved</fullName>
        <description>Notification: Health Improved</description>
        <protected>false</protected>
        <recipients>
            <recipient>VP_Customer_Relationship_Management</recipient>
            <type>role</type>
        </recipients>
        <recipients>
            <recipient>carolina.roller@intapp.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <field>CRD__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>LastModifiedById</field>
            <type>userLookup</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Customer_Care/CSM_Health_Improved</template>
    </alerts>
    <fieldUpdates>
        <fullName>Add_Product_Customer_Name</fullName>
        <field>Product_Customer_Name_Reference__c</field>
        <formula>Account__r.Name &amp; &quot; - &quot; &amp; TEXT(Product_Line__c)</formula>
        <name>Add Product Customer Name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>CSM_Health_Rating</fullName>
        <field>CSM_Health_Rating__c</field>
        <literalValue>Green</literalValue>
        <name>CSM Health Rating</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>CSM_Health_Rating_Last_Modified_Update</fullName>
        <description>Updates the CSM Health Rating - Last Modified field to the current date</description>
        <field>CSM_Health_Rating_Last_Modified__c</field>
        <formula>NOW()</formula>
        <name>CSM Health Rating - Last Modified Update</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Customer_Lifecycle_Stage</fullName>
        <field>Customer_Lifecycle_Stage_I__c</field>
        <literalValue>New Customer</literalValue>
        <name>Customer Lifecycle Stage</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Health_Still_Accurate_Update</fullName>
        <field>Health_Still_Accurate__c</field>
        <literalValue>0</literalValue>
        <name>Health Still Accurate Update</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Lapse_Product_Customer</fullName>
        <field>CSM_Health_Rating__c</field>
        <literalValue>Black</literalValue>
        <name>Lapse Product Customer</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Lapse_Product_Customer_Lifecycle</fullName>
        <field>Customer_Lifecycle_Stage_I__c</field>
        <literalValue>Lapsed</literalValue>
        <name>Lapse Product Customer - Lifecycle</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Lapse_Product_Customer_Project</fullName>
        <field>Customer_Lifecycle_Stage__c</field>
        <literalValue>Lapsed</literalValue>
        <name>Lapse Product Customer - Project</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Lapse_Product_Customer_Status</fullName>
        <field>Status__c</field>
        <literalValue>Inactive</literalValue>
        <name>Lapse Product Customer Status</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Populate_Customer_Lifecycle_Stage</fullName>
        <description>Updates the customer lifecycle stage whenever Product Customers are recovered from a lapsed stage.</description>
        <field>Customer_Lifecycle_Stage_I__c</field>
        <literalValue>Onboarding</literalValue>
        <name>Populate Customer Lifecycle Stage</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Product_Implementation_Phase</fullName>
        <field>Customer_Lifecycle_Stage__c</field>
        <literalValue>Project not started yet</literalValue>
        <name>Product Implementation Phase</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Status</fullName>
        <field>Status__c</field>
        <literalValue>Active</literalValue>
        <name>Status</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Uncheck_health_Still_accurate</fullName>
        <field>Health_Still_Accurate__c</field>
        <literalValue>0</literalValue>
        <name>Uncheck health Still accurate</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_A_Health_Rating</fullName>
        <field>Health_Rating__c</field>
        <literalValue>A - Good</literalValue>
        <name>Update A Health Rating</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_B_C_Health_Rating</fullName>
        <field>Health_Rating__c</field>
        <literalValue>B - Minor Concerns / C - Needs Attention</literalValue>
        <name>Update B/C Health Rating</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_CSM_Health_Rating_Last_Modified</fullName>
        <field>CSM_Health_Rating_Last_Modified__c</field>
        <formula>NOW()</formula>
        <name>Update CSM Health Rating Last Modified</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Customer_Lifecycle_Stage</fullName>
        <field>Customer_Lifecycle_Stage_I__c</field>
        <literalValue>Lapsed</literalValue>
        <name>Update Customer Lifecycle Stage</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Customer_Lifecycle_Stage_Previo</fullName>
        <field>Customer_Lifecycle_Stage_Previous__c</field>
        <formula>TEXT(Customer_Lifecycle_Stage__c)</formula>
        <name>UpdateProduct Implementation Phase</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_D_Health_Rating</fullName>
        <field>Health_Rating__c</field>
        <literalValue>D - At Risk</literalValue>
        <name>Update D Health Rating</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_E_Health_Rating</fullName>
        <field>Health_Rating__c</field>
        <literalValue>E - No Knowledge</literalValue>
        <name>Update E Health Rating</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_F_Health_Rating</fullName>
        <field>Health_Rating__c</field>
        <literalValue>F - Lapsed</literalValue>
        <name>Update F Health Rating</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_New_Health_Rating</fullName>
        <field>Health_Rating__c</field>
        <literalValue>New Subscription</literalValue>
        <name>Update New Health Rating</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Previous_CSM_Health_Rating</fullName>
        <field>CSM_Health_Rating_Previous__c</field>
        <formula>TEXT(PRIORVALUE(CSM_Health_Rating__c))</formula>
        <name>Update Previous CSM Health Rating</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_SRT_Status_Field</fullName>
        <field>SRT_Status__c</field>
        <literalValue>Installed - Not checking in yet</literalValue>
        <name>Update SRT Status Field</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>update_FMS_Discussion_Completed_Date</fullName>
        <field>FMS_Discussion_Completed_Date__c</field>
        <formula>NOW()</formula>
        <name>update FMS Discussion Completed Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <outboundMessages>
        <fullName>SendSubscriptionToDTE</fullName>
        <apiVersion>34.0</apiVersion>
        <endpointUrl>https://www.intapp.com/SalesForceSync/DTE/Subscription/SubscriptionNotificationService.asmx</endpointUrl>
        <fields>Account__c</fields>
        <fields>Id</fields>
        <fields>Name</fields>
        <fields>Primary_Subscription__c</fields>
        <fields>Product_Line__c</fields>
        <fields>Status__c</fields>
        <includeSessionId>true</includeSessionId>
        <integrationUser>alan.westley@intapp.com</integrationUser>
        <name>SendSubscriptionToDTE</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <rules>
        <fullName>Lapsed Product Customer</fullName>
        <actions>
            <name>Lapse_Product_Customer</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Lapse_Product_Customer_Lifecycle</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Lapse_Product_Customer_Project</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Lapse_Product_Customer_Status</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>AND(   ISCHANGED(Amount__c),   Amount__c = 0 )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-001xFxx</fullName>
        <actions>
            <name>Add_Product_Customer_Name</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: PC-001xFxx
Populate Product Customer Name Reference
Populates Product Customer Name Reference to be used in search function on a lookup field.</description>
        <formula>ISBLANK( Product_Customer_Name_Reference__c )</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-002xFxx</fullName>
        <actions>
            <name>Update_Customer_Lifecycle_Stage_Previo</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: PC-002xFxx
Store Prior Product Implementation Phase
Updates the Product Implementation Stage - Previous Field when Customer Lifecycle Stage field is changed</description>
        <formula>ISCHANGED(Customer_Lifecycle_Stage__c)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-003xxOx</fullName>
        <actions>
            <name>SendSubscriptionToDTE</name>
            <type>OutboundMessage</type>
        </actions>
        <active>true</active>
        <description>Rule Code: PC-003xxOx
UpdateSubscriptionInDTE
Sends an outbound message in DTE to update Subscription</description>
        <formula>ISNEW() ||
ISCHANGED(Account__c) ||
ISCHANGED(Name) || 
ISCHANGED(Primary_Subscription__c) ||
ISCHANGED(Product_Line__c)||
ISCHANGED(Status__c)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-004xFxx</fullName>
        <actions>
            <name>Update_SRT_Status_Field</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: PC-004xFxx
Subscription - Change SRT status on SRT Installed change
Updates SRT Status field when SRT Installed is changed and SRT Status is &quot;Not Installed&quot;</description>
        <formula>ISCHANGED(SRT_Installed__c) &amp;&amp; ISPICKVAL(SRT_Status__c, &apos;Not Installed&apos;)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-005xFxx</fullName>
        <actions>
            <name>Populate_Customer_Lifecycle_Stage</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: PC-005xFxx
Customer Lifecycle Stage Green
Updates the customer lifecycle stage to  when they come back from a Lapsed state.</description>
        <formula>AND(
  ISCHANGED(Status__c),
  PRIORVALUE(Status__c)=&quot;Inactive&quot;,
  ISPICKVAL(Status__c,&quot;Active&quot;)
)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-006Exxx</fullName>
        <actions>
            <name>Notification_CSM_Health_Regressed</name>
            <type>Alert</type>
        </actions>
        <active>false</active>
        <description>Rule Code: PC-006Exxx
Notification: CSM Health Regressed
This is a notification for the CRM team when a Subscription Health regresses.</description>
        <formula>AND(
  OR(
    AND(
      OR(
        ISPICKVAL(CSM_Health_Rating__c,&quot;C - Needs Attention&quot;),
        ISPICKVAL(CSM_Health_Rating__c,&quot;D - At Risk&quot;),
        ISPICKVAL(CSM_Health_Rating__c,&quot;F - Lapsed&quot;)
      ),
      OR(
        CSM_Health_Rating_Previous__c=&quot;A - Good&quot;,
        CSM_Health_Rating_Previous__c=&quot;B - Minor Concerns&quot;,
        CSM_Health_Rating_Previous__c=&quot;E - No Knowledge&quot;,
        CSM_Health_Rating_Previous__c=&quot;New Subscription&quot;
      )
    ),
    AND(
      OR(
        ISPICKVAL(CSM_Health_Rating__c,&quot;D - At Risk&quot;),
        ISPICKVAL(CSM_Health_Rating__c,&quot;F - Lapsed&quot;)
      ),
      CSM_Health_Rating_Previous__c=&quot;C - Needs Attention&quot;
    ),
    AND(
      ISPICKVAL(CSM_Health_Rating__c,&quot;F - Lapsed&quot;),
      CSM_Health_Rating_Previous__c=&quot;D - At Risk&quot;
    ),
    AND(
      ISPICKVAL(CSM_Health_Rating__c,&quot;B - Minor Problems&quot;),
      CSM_Health_Rating_Previous__c=&quot;A - Good&quot;
    )
  )
)</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-007xFxx</fullName>
        <actions>
            <name>Update_A_Health_Rating</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <description>Rule Code: PC-007xFxx
Update Health Rating: A</description>
        <formula>ISPICKVAL(CSM_Health_Rating__c,&quot;A - Good&quot;)</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-008xFxx</fullName>
        <actions>
            <name>Update_B_C_Health_Rating</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <description>Rule Code: PC-008xFxx
Update Health Rating: B/C</description>
        <formula>OR(
   ISPICKVAL(CSM_Health_Rating__c,&quot;B - Minor Concerns&quot;),
   ISPICKVAL(CSM_Health_Rating__c,&quot;C - Needs Attention&quot;)
)</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-009xFxx</fullName>
        <actions>
            <name>Update_E_Health_Rating</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <description>Rule Code: PC-009xFxx
Update Health Rating: E</description>
        <formula>ISPICKVAL(CSM_Health_Rating__c,&quot;E - No Knowledge&quot;)</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-010xFxx</fullName>
        <actions>
            <name>Update_D_Health_Rating</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <description>Rule Code: PC-010xFxx
Update Health Rating: D</description>
        <formula>ISPICKVAL(CSM_Health_Rating__c,&quot;D - At Risk&quot;)</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-011xFxx</fullName>
        <actions>
            <name>Update_F_Health_Rating</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <description>Rule Code: PC-011xFxx
Update Health Rating: F</description>
        <formula>ISPICKVAL(CSM_Health_Rating__c,&quot;F - Lapsed&quot;)</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-012xFxx</fullName>
        <actions>
            <name>Update_New_Health_Rating</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <description>Rule Code: PC-012xFxx
Update Health Rating: New</description>
        <formula>ISPICKVAL(CSM_Health_Rating__c,&quot;New Subscription&quot;)</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-013xFxx</fullName>
        <active>false</active>
        <description>Rule Code: PC-013xFxx
Health Still Accurate Checked
Old code - SUB-001xFxx
Updates the &quot;CSM Health Rating - Last Modified&quot; field whenever the &quot;Health Still Accurate&quot; box is checked. Also unchecked the &quot;Health Still Accurate&quot; box.</description>
        <formula>Health_Still_Accurate__c = TRUE</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-014xFxx</fullName>
        <active>false</active>
        <description>Rule Code: PC-014xFxx
Store Prior CSM Health Rating
old code - SUB-002xFxx
Updates the CSM Health Rating - Previous and CSM Health Rating - Last Modified fields</description>
        <formula>AND(
  ISCHANGED(CSM_Health_Rating__c), 
  LastModifiedById!=&quot;00550000002ngsR&quot;,
  LastModifiedById!=&quot;00550000004PGDf&quot;
)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-015Exxx</fullName>
        <actions>
            <name>Notification_Health_Improved</name>
            <type>Alert</type>
        </actions>
        <active>false</active>
        <description>Rule Code: PC-015Exxx
Notification: CSM Health Improved
This is a notification for the CRM team when a Subscription Health improves.</description>
        <formula>AND(
  OR(
    AND(
      OR(
        ISPICKVAL(CSM_Health_Rating__c,&quot;A - Good&quot;),
        ISPICKVAL(CSM_Health_Rating__c,&quot;B - Minor Concerns&quot;)
      ),
      OR(
        CSM_Health_Rating_Previous__c=&quot;C - Needs Attention&quot;,
        CSM_Health_Rating_Previous__c=&quot;D - At Risk&quot;
      )
    ),
    AND(
      ISPICKVAL(CSM_Health_Rating__c,&quot;C - Needs Attention&quot;),
      CSM_Health_Rating_Previous__c=&quot;D - At Risk&quot;
    ),
    AND(
      ISPICKVAL(CSM_Health_Rating__c,&quot;B - Minor Concerns&quot;),
      CSM_Health_Rating_Previous__c=&quot;A - Good&quot;
    )
  )
)</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-016xFxx</fullName>
        <actions>
            <name>Update_Customer_Lifecycle_Stage</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: PC-016xFxx
Customer Lifecycle Stage Lapsed
Updates the customer lifecycle stage to Lapsed</description>
        <formula>AND(
  ISCHANGED(CSM_Health_Rating__c),
  ISPICKVAL(CSM_Health_Rating__c,&quot;Black&quot;),
  ISCHANGED(Status__c),
  ISPICKVAL(Status__c,&quot;Inactive&quot;)
)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-017xFxx</fullName>
        <actions>
            <name>update_FMS_Discussion_Completed_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Subscription__c.FMS_Discussion_Completed__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <criteriaItems>
            <field>Subscription__c.FMS_Discussion_Completed_Date__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A PC-018xFxx</fullName>
        <actions>
            <name>CSM_Health_Rating_Last_Modified_Update</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Uncheck_health_Still_accurate</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: PC-018xFxx

Updates the &quot;CSM Health Rating â€“ Last Modified&quot; when &quot;CSM Health Rating&quot; being updated.</description>
        <formula>OR(   ISCHANGED(CSM_Health_Rating__c),   ISCHANGED(Health_Still_Accurate__c)  )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Un-Lapsed Product Customer</fullName>
        <actions>
            <name>CSM_Health_Rating</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Customer_Lifecycle_Stage</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Product_Implementation_Phase</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Status</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>AND(   ISCHANGED(Amount__c),   PRIORVALUE(Amount__c)=0,   Amount__c &gt; 0 )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
