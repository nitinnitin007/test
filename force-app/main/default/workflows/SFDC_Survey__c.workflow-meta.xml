<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <rules>
        <fullName>Rule Code%3A SUR-001xFxx</fullName>
        <actions>
            <name>Update_Subscription_Contact_Role_Snapsho</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_Subscription_Contact_Title_Snapsh</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: SUR-001xFxx
Take Subscription Contact Role &amp; Title Snapshot
Updates the Subscription Contact Role Snapshot and Subscription Contact Title Snapshot fields whenever a Survey record is created</description>
        <formula>TRUE</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A SUR-002Exxx</fullName>
        <actions>
            <name>Send_NPS_Survey_Notification</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>SFDC_Survey__c.Type__c</field>
            <operation>equals</operation>
            <value>CRM</value>
        </criteriaItems>
        <description>Rule Code: SUR-002Exxx
Send Survey Notification to CRM Team
Sends an email alert whenever there is a CRM survey.</description>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A SUR-004xFxx</fullName>
        <actions>
            <name>CSM_Account_Owner_Field_Update</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: SUR-004xFxx
Populate CSM Account Owner
Populates the CSM Account Owner Email field</description>
        <formula>TRUE</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A SUR-005Exxx</fullName>
        <actions>
            <name>Closing_Survey_Complete_Notification</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <description>Rule Code: SUR-005Exxx
Closing Survey Completed
Sends an email notification whenever a closing survey is completed.</description>
        <formula>AND(   OR(     ISCHANGED(Client_PjM_Survey_Complete__c),     ISCHANGED(Client_Business_IT_Owner_Survey_Complete__c)    ),    OR(      Client_PjM_Survey_Complete__c=TRUE,      Client_Business_IT_Owner_Survey_Complete__c=TRUE    ),    OR(Contains(  OA_Project__r.Implementation_Partner__c , &quot;Intapp&quot;) , ISBLANK(OA_Project__r.Implementation_Partner__c  )) )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A SUR-006xFxx</fullName>
        <actions>
            <name>Populate_Intapp_AC_Email</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_Intapp_PC_Email</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_Intapp_PjM_Email</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_Intapp_SE_Email</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: SUR-006xFxx
Populate Team Email Addresses
Populates the Intapp AC, PjM, PC, and SE on the survey object on change of various Intapp fields</description>
        <formula>OR(   ISNEW(),   OR(     ISCHANGED(Intapp_AC__c),     ISCHANGED(Intapp_PC__c),     ISCHANGED(Intapp_PjM__c),     ISCHANGED(Intapp_SE__c)     ) )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A SUR-008xFxx</fullName>
        <actions>
            <name>Populate_Resource_Manager_Email_UK</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: SUR-008xFxx
Populate Resource Manager Email UK
Populates Resource Manager in the UK when Account&apos;s Simple Territory is &quot;EMEA&quot;</description>
        <formula>Account__r.Simple_Territory__c=&quot;EMEA&quot;</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A SUR-009xFxx</fullName>
        <actions>
            <name>Populate_Resource_Manager_Email_US_Risk</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: SUR-009xFxx
Populate Resource Manager Email US/Risk
Populates Resource Manager in the US for Risk(Walls &amp; Open)</description>
        <formula>AND(   OR(     Account__r.Simple_Territory__c=&quot;NA Large Law&quot;,     Account__r.Simple_Territory__c=&quot;NA Mid-size Law&quot;   ),   OR(     CONTAINS(TEXT(Product_Line__c), &quot;Open&quot;),     CONTAINS(TEXT(Product_Line__c), &quot;Wall&quot;) ))</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A SUR-010xFxx</fullName>
        <actions>
            <name>Populate_Resource_Manager_Email_US_Time</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Rule Code: SUR-010xFxx
Populate Resource Manager Email US/Time
Populates Resource Manager in the US for Time</description>
        <formula>AND(   OR(     Account__r.Simple_Territory__c=&quot;NA Large Law&quot;,     Account__r.Simple_Territory__c=&quot;NA Mid-size Law&quot;   ),   OR(     CONTAINS(TEXT(Product_Line__c), &quot;Time&quot;),     CONTAINS(TEXT(Product_Line__c), &quot;DTE&quot;),     CONTAINS(TEXT(Product_Line__c), &quot;RollCall&quot;) ))</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A SUR-011Exxx</fullName>
        <actions>
            <name>Partner_Closing_Survey_Completed</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <description>Rule Code: SUR-011Exxx
Partner Closing Survey Completed
Sends an email notification when a partner closing survey has been completed.</description>
        <formula>AND(    OR(      ISCHANGED(Client_PjM_Survey_Complete__c),      ISCHANGED(Client_Business_IT_Owner_Survey_Complete__c)    ),    OR(      Client_PjM_Survey_Complete__c=TRUE,      Client_Business_IT_Owner_Survey_Complete__c=TRUE    ),    OA_Project__r.Billing_Type__c =&quot;No Billing&quot;,   OA_Project__r.Project_Type__c =&quot;Partner&quot;  )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A SUR-012Exxx</fullName>
        <actions>
            <name>Closing_Survey_Complete_Notification_External</name>
            <type>Alert</type>
        </actions>
        <active>false</active>
        <description>Rule Code: SUR-012Exxx
Closing Survey Completed - External
Sends an email notification whenever a closing survey is completed with external resources.</description>
        <formula>AND(   OR(     Intapp_AC__r.pse__External_Resource__c=TRUE,     Intapp_PC__r.pse__External_Resource__c=TRUE,     Intapp_SE__r.pse__External_Resource__c=TRUE   ),   OR(     ISCHANGED(Client_PjM_Survey_Complete__c),     ISCHANGED(Client_Business_IT_Owner_Survey_Complete__c)    ),    OR(      Client_PjM_Survey_Complete__c=TRUE,      Client_Business_IT_Owner_Survey_Complete__c=TRUE    ),    ISPICKVAL(Project__r.pse__Opportunity__r.Fulfilling_Entity__c, &quot;Intapp&quot;)  )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Rule Code%3A SUR-013Exxx</fullName>
        <actions>
            <name>Consulting_Survey_Complete</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <description>Rule Code: SUR-013Exxx
Consulting Survey Completed Notification
Sends an email notification whenever there is a consulting survey that has been completed.</description>
        <formula>AND(   ISPICKVAL(Type__c, &quot;Consulting&quot;),   ISCHANGED(Client_Business_IT_Owner_Survey_Complete__c),   Client_Business_IT_Owner_Survey_Complete__c=TRUE )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
